name: Next.js Site

on:
 push:
   branches: [ main ]
 pull_request:
   branches: [ main ]

jobs:
 build_and_deploy:
   runs-on: ubuntu-latest
   steps:
     - uses: actions/checkout@v2
     - name: Build & Deploy to GitHub Pages
       env:
         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
         GITHUB_REPOSITORY: ${{ secrets.GITHUB_REPOSITORY }}
         GITHUB_ACTOR: ${{ secrets.GITHUB_ACTOR }}
       uses: tarebyte/nextjs-deploy-gh-pages@main
